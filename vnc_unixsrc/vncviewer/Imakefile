
#ifdef SunArchitecture
EXTRA_DEFINES = -D__EXTENSIONS__
#endif
#if defined(x86_64Architecture)||defined(AMD64Architecture)
ifeq ($(M32), yes)
EXTRA_DEFINES = -m32 -D__i386__
EXTRA_LDOPTIONS = -m32 -L/usr/X11R6/lib -L/usr/lib
endif
#endif

XCOMM Shared memory support works OK on x86 linux, not tested elsewhere but
XCOMM seems to cause problems on Digital Unix.

#if defined(LinuxArchitecture) || defined(SunArchitecture)
DEFINES = -DMITSHM
#endif

ZLIB_INC = -I/usr/local/include
JPEG_INC = -I/usr/local/include
INCLUDES = -I../include -I. $(ZLIB_INC) $(JPEG_INC) -I/usr/include
VNCAUTH_LIB = ../libvncauth/libvncauth.a
ZLIB_LIB = -L/usr/local/lib -lz
#ifdef OSF1Architecture
XCOMM Avoid linking with different libjpeg in /usr/shlib under Tru64.
JPEG_LIB = /usr/local/lib/libjpeg.a
#else
#ifdef SunArchitecture
JPEG_LIB = -L/usr/local/lib -R/opt/SUNWtvnc/lib -L../turbojpeg -lturbojpeg
#else
JPEG_LIB = -L/usr/local/lib -lturbojpeg
#endif
#endif

DEPLIBS = XawClientDepLibs $(VNCAUTH_LIB)
LOCAL_LIBRARIES = XawClientLibs $(VNCAUTH_LIB) $(ZLIB_LIB) $(JPEG_LIB)

SRCS = \
  argsresources.c \
  caps.c \
  colour.c \
  cursor.c \
  desktop.c \
  dialogs.c \
  fullscreen.c \
  listen.c \
  misc.c \
  popup.c \
  rfbproto.c \
  selection.c \
  shm.c \
  sockets.c \
  tunnel.c \
  vncviewer.c

OBJS = $(SRCS:.c=.o)

ComplexProgramTarget(vncviewer)
